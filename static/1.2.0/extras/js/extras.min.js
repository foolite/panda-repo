(function(){var a=[].slice;(function(c,b){var d;d=(function(){function e(g,f){if(f==null){f={}}this.$element=c(g);this.options=c.extend({},c.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},f);this.prevOptions={};this.$wrapper=c("<div>",{"class":(function(h){return function(){var i;i=[""+h.options.baseClass].concat(h._getClasses(h.options.wrapperClass));i.push(h.options.state?h.options.baseClass+"-on":h.options.baseClass+"-off");if(h.options.size!=null){i.push(h.options.baseClass+"-"+h.options.size)}if(h.options.disabled){i.push(h.options.baseClass+"-disabled")}if(h.options.readonly){i.push(h.options.baseClass+"-readonly")}if(h.options.indeterminate){i.push(h.options.baseClass+"-indeterminate")}if(h.options.inverse){i.push(h.options.baseClass+"-inverse")}if(h.$element.attr("id")){i.push(h.options.baseClass+"-id-"+(h.$element.attr("id")))}return i.join(" ")}})(this)()});this.$container=c("<div>",{"class":this.options.baseClass+"-container"});this.$on=c("<span>",{html:this.options.onText,"class":this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor});this.$off=c("<span>",{html:this.options.offText,"class":this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor});this.$label=c("<span>",{html:this.options.labelText,"class":this.options.baseClass+"-label"});this.$element.on("init.bootstrapSwitch",(function(h){return function(){return h.options.onInit.apply(g,arguments)}})(this));this.$element.on("switchChange.bootstrapSwitch",(function(h){return function(i){if(false===h.options.onSwitchChange.apply(g,arguments)){if(h.$element.is(":radio")){return c("[name='"+(h.$element.attr("name"))+"']").trigger("previousState.bootstrapSwitch",true)}else{return h.$element.trigger("previousState.bootstrapSwitch",true)}}}})(this));this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);if(this.options.indeterminate){this.$element.prop("indeterminate",true)}this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}e.prototype._constructor=e;e.prototype.setPrevOptions=function(){return this.prevOptions=c.extend(true,{},this.options)};e.prototype.state=function(g,f){if(typeof g==="undefined"){return this.options.state}if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")){return this.$element}if(this.$element.is(":radio")){c("[name='"+(this.$element.attr("name"))+"']").trigger("setPreviousOptions.bootstrapSwitch")}else{this.$element.trigger("setPreviousOptions.bootstrapSwitch")}if(this.options.indeterminate){this.indeterminate(false)}g=!!g;this.$element.prop("checked",g).trigger("change.bootstrapSwitch",f);return this.$element};e.prototype.toggleState=function(f){if(this.options.disabled||this.options.readonly){return this.$element}if(this.options.indeterminate){this.indeterminate(false);return this.state(true)}else{return this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",f)}};e.prototype.size=function(f){if(typeof f==="undefined"){return this.options.size}if(this.options.size!=null){this.$wrapper.removeClass(this.options.baseClass+"-"+this.options.size)}if(f){this.$wrapper.addClass(this.options.baseClass+"-"+f)}this._width();this._containerPosition();this.options.size=f;return this.$element};e.prototype.animate=function(f){if(typeof f==="undefined"){return this.options.animate}f=!!f;if(f===this.options.animate){return this.$element}return this.toggleAnimate()};e.prototype.toggleAnimate=function(){this.options.animate=!this.options.animate;this.$wrapper.toggleClass(this.options.baseClass+"-animate");return this.$element};e.prototype.disabled=function(f){if(typeof f==="undefined"){return this.options.disabled}f=!!f;if(f===this.options.disabled){return this.$element}return this.toggleDisabled()};e.prototype.toggleDisabled=function(){this.options.disabled=!this.options.disabled;this.$element.prop("disabled",this.options.disabled);this.$wrapper.toggleClass(this.options.baseClass+"-disabled");return this.$element};e.prototype.readonly=function(f){if(typeof f==="undefined"){return this.options.readonly}f=!!f;if(f===this.options.readonly){return this.$element}return this.toggleReadonly()};e.prototype.toggleReadonly=function(){this.options.readonly=!this.options.readonly;this.$element.prop("readonly",this.options.readonly);this.$wrapper.toggleClass(this.options.baseClass+"-readonly");return this.$element};e.prototype.indeterminate=function(f){if(typeof f==="undefined"){return this.options.indeterminate}f=!!f;if(f===this.options.indeterminate){return this.$element}return this.toggleIndeterminate()};e.prototype.toggleIndeterminate=function(){this.options.indeterminate=!this.options.indeterminate;this.$element.prop("indeterminate",this.options.indeterminate);this.$wrapper.toggleClass(this.options.baseClass+"-indeterminate");this._containerPosition();return this.$element};e.prototype.inverse=function(f){if(typeof f==="undefined"){return this.options.inverse}f=!!f;if(f===this.options.inverse){return this.$element}return this.toggleInverse()};e.prototype.toggleInverse=function(){var g,f;this.$wrapper.toggleClass(this.options.baseClass+"-inverse");f=this.$on.clone(true);g=this.$off.clone(true);this.$on.replaceWith(g);this.$off.replaceWith(f);this.$on=g;this.$off=f;this.options.inverse=!this.options.inverse;return this.$element};e.prototype.onColor=function(g){var f;f=this.options.onColor;if(typeof g==="undefined"){return f}if(f!=null){this.$on.removeClass(this.options.baseClass+"-"+f)}this.$on.addClass(this.options.baseClass+"-"+g);this.options.onColor=g;return this.$element};e.prototype.offColor=function(g){var f;f=this.options.offColor;if(typeof g==="undefined"){return f}if(f!=null){this.$off.removeClass(this.options.baseClass+"-"+f)}this.$off.addClass(this.options.baseClass+"-"+g);this.options.offColor=g;return this.$element};e.prototype.onText=function(f){if(typeof f==="undefined"){return this.options.onText}this.$on.html(f);this._width();this._containerPosition();this.options.onText=f;return this.$element};e.prototype.offText=function(f){if(typeof f==="undefined"){return this.options.offText}this.$off.html(f);this._width();this._containerPosition();this.options.offText=f;return this.$element};e.prototype.labelText=function(f){if(typeof f==="undefined"){return this.options.labelText}this.$label.html(f);this._width();this.options.labelText=f;return this.$element};e.prototype.handleWidth=function(f){if(typeof f==="undefined"){return this.options.handleWidth}this.options.handleWidth=f;this._width();this._containerPosition();return this.$element};e.prototype.labelWidth=function(f){if(typeof f==="undefined"){return this.options.labelWidth}this.options.labelWidth=f;this._width();this._containerPosition();return this.$element};e.prototype.baseClass=function(f){return this.options.baseClass};e.prototype.wrapperClass=function(f){if(typeof f==="undefined"){return this.options.wrapperClass}if(!f){f=c.fn.bootstrapSwitch.defaults.wrapperClass}this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" "));this.$wrapper.addClass(this._getClasses(f).join(" "));this.options.wrapperClass=f;return this.$element};e.prototype.radioAllOff=function(f){if(typeof f==="undefined"){return this.options.radioAllOff}f=!!f;if(f===this.options.radioAllOff){return this.$element}this.options.radioAllOff=f;return this.$element};e.prototype.onInit=function(f){if(typeof f==="undefined"){return this.options.onInit}if(!f){f=c.fn.bootstrapSwitch.defaults.onInit}this.options.onInit=f;return this.$element};e.prototype.onSwitchChange=function(f){if(typeof f==="undefined"){return this.options.onSwitchChange}if(!f){f=c.fn.bootstrapSwitch.defaults.onSwitchChange}this.options.onSwitchChange=f;return this.$element};e.prototype.destroy=function(){var f;f=this.$element.closest("form");if(f.length){f.off("reset.bootstrapSwitch").removeData("bootstrap-switch")}this.$container.children().not(this.$element).remove();this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch");return this.$element};e.prototype._width=function(){var g,f;g=this.$on.add(this.$off);g.add(this.$label).css("width","");f=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth;g.width(f);this.$label.width((function(h){return function(i,j){if(h.options.labelWidth!=="auto"){return h.options.labelWidth}if(j<f){return f}else{return j}}})(this));this._handleWidth=this.$on.outerWidth();this._labelWidth=this.$label.outerWidth();this.$container.width((this._handleWidth*2)+this._labelWidth);return this.$wrapper.width(this._handleWidth+this._labelWidth)};e.prototype._containerPosition=function(f,g){if(f==null){f=this.options.state}this.$container.css("margin-left",(function(h){return function(){var i;i=[0,"-"+h._handleWidth+"px"];if(h.options.indeterminate){return"-"+(h._handleWidth/2)+"px"}if(f){if(h.options.inverse){return i[1]}else{return i[0]}}else{if(h.options.inverse){return i[0]}else{return i[1]}}}})(this));if(!g){return}return setTimeout(function(){return g()},50)};e.prototype._init=function(){var g,f;g=(function(h){return function(){h.setPrevOptions();h._width();return h._containerPosition(null,function(){if(h.options.animate){return h.$wrapper.addClass(h.options.baseClass+"-animate")}})}})(this);if(this.$wrapper.is(":visible")){return g()}return f=b.setInterval((function(h){return function(){if(h.$wrapper.is(":visible")){g();return b.clearInterval(f)}}})(this),50)};e.prototype._elementHandlers=function(){return this.$element.on({"setPreviousOptions.bootstrapSwitch":(function(f){return function(g){return f.setPrevOptions()}})(this),"previousState.bootstrapSwitch":(function(f){return function(g){f.options=f.prevOptions;if(f.options.indeterminate){f.$wrapper.addClass(f.options.baseClass+"-indeterminate")}return f.$element.prop("checked",f.options.state).trigger("change.bootstrapSwitch",true)}})(this),"change.bootstrapSwitch":(function(f){return function(i,g){var h;i.preventDefault();i.stopImmediatePropagation();h=f.$element.is(":checked");f._containerPosition(h);if(h===f.options.state){return}f.options.state=h;f.$wrapper.toggleClass(f.options.baseClass+"-off").toggleClass(f.options.baseClass+"-on");if(!g){if(f.$element.is(":radio")){c("[name='"+(f.$element.attr("name"))+"']").not(f.$element).prop("checked",false).trigger("change.bootstrapSwitch",true)}return f.$element.trigger("switchChange.bootstrapSwitch",[h])}}})(this),"focus.bootstrapSwitch":(function(f){return function(g){g.preventDefault();return f.$wrapper.addClass(f.options.baseClass+"-focused")}})(this),"blur.bootstrapSwitch":(function(f){return function(g){g.preventDefault();return f.$wrapper.removeClass(f.options.baseClass+"-focused")}})(this),"keydown.bootstrapSwitch":(function(f){return function(g){if(!g.which||f.options.disabled||f.options.readonly){return}switch(g.which){case 37:g.preventDefault();g.stopImmediatePropagation();return f.state(false);case 39:g.preventDefault();g.stopImmediatePropagation();return f.state(true)}}})(this)})};e.prototype._handleHandlers=function(){this.$on.on("click.bootstrapSwitch",(function(f){return function(g){g.preventDefault();g.stopPropagation();f.state(false);return f.$element.trigger("focus.bootstrapSwitch")}})(this));return this.$off.on("click.bootstrapSwitch",(function(f){return function(g){g.preventDefault();g.stopPropagation();f.state(true);return f.$element.trigger("focus.bootstrapSwitch")}})(this))};e.prototype._labelHandlers=function(){return this.$label.on({click:function(f){return f.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":(function(f){return function(g){if(f._dragStart||f.options.disabled||f.options.readonly){return}g.preventDefault();g.stopPropagation();f._dragStart=(g.pageX||g.originalEvent.touches[0].pageX)-parseInt(f.$container.css("margin-left"),10);if(f.options.animate){f.$wrapper.removeClass(f.options.baseClass+"-animate")}return f.$element.trigger("focus.bootstrapSwitch")}})(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":(function(f){return function(g){var h;if(f._dragStart==null){return}g.preventDefault();h=(g.pageX||g.originalEvent.touches[0].pageX)-f._dragStart;if(h<-f._handleWidth||h>0){return}f._dragEnd=h;return f.$container.css("margin-left",f._dragEnd+"px")}})(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":(function(f){return function(h){var g;if(!f._dragStart){return}h.preventDefault();if(f.options.animate){f.$wrapper.addClass(f.options.baseClass+"-animate")}if(f._dragEnd){g=f._dragEnd>-(f._handleWidth/2);f._dragEnd=false;f.state(f.options.inverse?!g:g)}else{f.state(!f.options.state)}return f._dragStart=false}})(this),"mouseleave.bootstrapSwitch":(function(f){return function(g){return f.$label.trigger("mouseup.bootstrapSwitch")}})(this)})};e.prototype._externalLabelHandler=function(){var f;f=this.$element.closest("label");return f.on("click",(function(g){return function(h){h.preventDefault();h.stopImmediatePropagation();if(h.target===f[0]){return g.toggleState()}}})(this))};e.prototype._formHandler=function(){var f;f=this.$element.closest("form");if(f.data("bootstrap-switch")){return}return f.on("reset.bootstrapSwitch",function(){return b.setTimeout(function(){return f.find("input").filter(function(){return c(this).data("bootstrap-switch")}).each(function(){return c(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",true)};e.prototype._getClasses=function(j){var k,g,h,f;if(!c.isArray(j)){return[this.options.baseClass+"-"+j]}g=[];for(h=0,f=j.length;h<f;h++){k=j[h];g.push(this.options.baseClass+"-"+k)}return g};return e})();c.fn.bootstrapSwitch=function(){var f,g,e;g=arguments[0],f=2<=arguments.length?a.call(arguments,1):[];e=this;this.each(function(){var i,h;i=c(this);h=i.data("bootstrap-switch");if(!h){i.data("bootstrap-switch",h=new d(this,g))}if(typeof g==="string"){return e=h[g].apply(h,f)}});return e};c.fn.bootstrapSwitch.Constructor=d;return c.fn.bootstrapSwitch.defaults={state:true,size:null,animate:true,disabled:false,readonly:false,indeterminate:false,inverse:false,radioAllOff:false,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(this);
/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
(function(a9,ah,aW,z){var s=["","webkit","moz","MS","ms","o"];var C=ah.createElement("div");var V="function";var Q=Math.round;var ae=Math.abs;var ba=Date.now;function j(bp,bq,bo){return setTimeout(G(bp,bo),bq)}function Z(bo,bq,bp){if(Array.isArray(bo)){bm(bo,bp[bq],bp);return true}return false}function bm(br,bq,bp){var bo;if(!br){return}if(br.forEach){br.forEach(bq,bp)}else{if(br.length!==z){bo=0;while(bo<br.length){bq.call(bp,br[bo],bo,br);bo++}}else{for(bo in br){br.hasOwnProperty(bo)&&bq.call(bp,br[bo],bo,br)}}}}function aG(bo,br,bs){var bq=Object.keys(br);var bp=0;while(bp<bq.length){if(!bs||(bs&&bo[bq[bp]]===z)){bo[bq[bp]]=br[bq[bp]]}bp++}return bo}function D(bo,bp){return aG(bo,bp,true)}function E(bs,bq,bp){var bo=bq.prototype,br;br=bs.prototype=Object.create(bo);br.constructor=bs;br._super=bo;if(bp){aG(br,bp)}}function G(bq,bo){return function bp(){return bq.apply(bo,arguments)}}function aj(bp,bo){if(typeof bp==V){return bp.apply(bo?bo[0]||z:z,bo)}return bp}function aE(bp,bo){return(bp===z)?bo:bp}function aF(bq,bo,bp){bm(aS(bo),function(br){bq.addEventListener(br,bp,false)})}function L(bq,bo,bp){bm(aS(bo),function(br){bq.removeEventListener(br,bp,false)})}function m(bp,bo){while(bp){if(bp==bo){return true}bp=bp.parentNode}return false}function i(bp,bo){return bp.indexOf(bo)>-1}function aS(bo){return bo.trim().split(/\s+/g)}function y(br,bq,bp){if(br.indexOf&&!bp){return br.indexOf(bq)}else{var bo=0;while(bo<br.length){if((bp&&br[bo][bp]==bq)||(!bp&&br[bo]===bq)){return bo}bo++}return -1}}function W(bo){return Array.prototype.slice.call(bo,0)}function bc(bv,bs,br){var bq=[];var bo=[];var bp=0;while(bp<bv.length){var bu=bs?bv[bp][bs]:bv[bp];if(y(bo,bu)<0){bq.push(bv[bp])}bo[bp]=bu;bp++}if(br){if(!bs){bq=bq.sort()}else{bq=bq.sort(function bt(bx,bw){return bx[bs]>bw[bs]})}}return bq}function an(bs,br){var bq,bt;var bo=br[0].toUpperCase()+br.slice(1);var bp=0;while(bp<s.length){bq=s[bp];bt=(bq)?bq+bo:br;if(bt in bs){return bt}bp++}return z}var r=1;function aH(){return r++}function I(bo){var bp=bo.ownerDocument;return(bp.defaultView||bp.parentWindow)}var t=/mobile|tablet|ip(ad|hone|od)|android/i;var b=("ontouchstart" in a9);var ad=an(a9,"PointerEvent")!==z;var ay=b&&t.test(navigator.userAgent);var aC="touch";var o="pen";var N="mouse";var R="kinect";var bh=25;var a4=1;var a0=2;var f=4;var u=8;var ax=1;var k=2;var A=4;var ac=8;var a1=16;var bd=k|A;var aw=ac|a1;var M=bd|aw;var af=["x","y"];var am=["clientX","clientY"];function a(bp,bq){var bo=this;this.manager=bp;this.callback=bq;this.element=bp.element;this.target=bp.options.inputTarget;this.domHandler=function(br){if(aj(bp.options.enable,[bp])){bo.handler(br)}};this.init()}a.prototype={handler:function(){},init:function(){this.evEl&&aF(this.element,this.evEl,this.domHandler);this.evTarget&&aF(this.target,this.evTarget,this.domHandler);this.evWin&&aF(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler);this.evTarget&&L(this.target,this.evTarget,this.domHandler);this.evWin&&L(I(this.element),this.evWin,this.domHandler)}};function v(bq){var bp;var bo=bq.options.inputClass;if(bo){bp=bo}else{if(ad){bp=aN}else{if(ay){bp=au}else{if(!b){bp=av}else{bp=bf}}}}return new (bp)(bq,at)}function at(bt,bs,bq){var bp=bq.pointers.length;var br=bq.changedPointers.length;var bo=(bs&a4&&(bp-br===0));var bu=(bs&(f|u)&&(bp-br===0));bq.isFirst=!!bo;bq.isFinal=!!bu;if(bo){bt.session={}}bq.eventType=bs;a5(bt,bq);bt.emit("hammer.input",bq);bt.recognize(bq);bt.session.prevInput=bq}function a5(br,bw){var bu=br.session;var bx=bw.pointers;var bv=bx.length;if(!bu.firstInput){bu.firstInput=n(bw)}if(bv>1&&!bu.firstMultiple){bu.firstMultiple=n(bw)}else{if(bv===1){bu.firstMultiple=false}}var bq=bu.firstInput;var bs=bu.firstMultiple;var bp=bs?bs.center:bq.center;var bo=bw.center=P(bx);bw.timeStamp=ba();bw.deltaTime=bw.timeStamp-bq.timeStamp;bw.angle=ap(bp,bo);bw.distance=bi(bp,bo);ar(bu,bw);bw.offsetDirection=aK(bw.deltaX,bw.deltaY);bw.scale=bs?e(bs.pointers,bx):1;bw.rotation=bs?bb(bs.pointers,bx):0;X(bu,bw);var bt=br.element;if(m(bw.srcEvent.target,bt)){bt=bw.srcEvent.target}bw.target=bt}function ar(bs,bq){var bp=bq.center;var bt=bs.offsetDelta||{};var bo=bs.prevDelta||{};var br=bs.prevInput||{};if(bq.eventType===a4||br.eventType===f){bo=bs.prevDelta={x:br.deltaX||0,y:br.deltaY||0};bt=bs.offsetDelta={x:bp.x,y:bp.y}}bq.deltaX=bo.x+(bp.x-bt.x);bq.deltaY=bo.y+(bp.y-bt.y)}function X(bs,bv){var by=bs.lastInterval||bv,br=bv.timeStamp-by.timeStamp,bp,bw,bt,bu;if(bv.eventType!=u&&(br>bh||by.velocity===z)){var bq=by.deltaX-bv.deltaX;var bo=by.deltaY-bv.deltaY;var bx=T(br,bq,bo);bw=bx.x;bt=bx.y;bp=(ae(bx.x)>ae(bx.y))?bx.x:bx.y;bu=aK(bq,bo);bs.lastInterval=bv}else{bp=by.velocity;bw=by.velocityX;bt=by.velocityY;bu=by.direction}bv.velocity=bp;bv.velocityX=bw;bv.velocityY=bt;bv.direction=bu}function n(bp){var bo=[];var bq=0;while(bq<bp.pointers.length){bo[bq]={clientX:Q(bp.pointers[bq].clientX),clientY:Q(bp.pointers[bq].clientY)};bq++}return{timeStamp:ba(),pointers:bo,center:P(bo),deltaX:bp.deltaX,deltaY:bp.deltaY}}function P(bq){var bp=bq.length;if(bp===1){return{x:Q(bq[0].clientX),y:Q(bq[0].clientY)}}var bo=0,bs=0,br=0;while(br<bp){bo+=bq[br].clientX;bs+=bq[br].clientY;br++}return{x:Q(bo/bp),y:Q(bs/bp)}}function T(bp,bo,bq){return{x:bo/bp||0,y:bq/bp||0}}function aK(bo,bp){if(bo===bp){return ax}if(ae(bo)>=ae(bp)){return bo>0?k:A}return bp>0?ac:a1}function bi(br,bq,bp){if(!bp){bp=af}var bo=bq[bp[0]]-br[bp[0]],bs=bq[bp[1]]-br[bp[1]];return Math.sqrt((bo*bo)+(bs*bs))}function ap(br,bq,bp){if(!bp){bp=af}var bo=bq[bp[0]]-br[bp[0]],bs=bq[bp[1]]-br[bp[1]];return Math.atan2(bs,bo)*180/Math.PI}function bb(bp,bo){return ap(bo[1],bo[0],am)-ap(bp[1],bp[0],am)}function e(bp,bo){return bi(bo[0],bo[1],am)/bi(bp[0],bp[1],am)}var aT={mousedown:a4,mousemove:a0,mouseup:f};var B="mousedown";var w="mousemove mouseup";function av(){this.evEl=B;this.evWin=w;this.allow=true;this.pressed=false;a.apply(this,arguments)}E(av,a,{handler:function S(bp){var bo=aT[bp.type];if(bo&a4&&bp.button===0){this.pressed=true}if(bo&a0&&bp.which!==1){bo=f}if(!this.pressed||!this.allow){return}if(bo&f){this.pressed=false}this.callback(this.manager,bo,{pointers:[bp],changedPointers:[bp],pointerType:N,srcEvent:bp})}});var aI={pointerdown:a4,pointermove:a0,pointerup:f,pointercancel:u,pointerout:u};var F={2:aC,3:o,4:N,5:R};var a8="pointerdown";var g="pointermove pointerup pointercancel";if(a9.MSPointerEvent){a8="MSPointerDown";g="MSPointerMove MSPointerUp MSPointerCancel"}function aN(){this.evEl=a8;this.evWin=g;a.apply(this,arguments);this.store=(this.manager.session.pointerEvents=[])}E(aN,a,{handler:function a3(bt){var br=this.store;var bv=false;var bq=bt.type.toLowerCase().replace("ms","");var bs=aI[bq];var bo=F[bt.pointerType]||bt.pointerType;var bp=(bo==aC);var bu=y(br,bt.pointerId,"pointerId");if(bs&a4&&(bt.button===0||bp)){if(bu<0){br.push(bt);bu=br.length-1}}else{if(bs&(f|u)){bv=true}}if(bu<0){return}br[bu]=bt;this.callback(this.manager,bs,{pointers:br,changedPointers:[bt],pointerType:bo,srcEvent:bt});if(bv){br.splice(bu,1)}}});var ai={touchstart:a4,touchmove:a0,touchend:f,touchcancel:u};var aL="touchstart";var aP="touchstart touchmove touchend touchcancel";function x(){this.evTarget=aL;this.evWin=aP;this.started=false;a.apply(this,arguments)}E(x,a,{handler:function aM(bp){var bo=ai[bp.type];if(bo===a4){this.started=true}if(!this.started){return}var bq=c.call(this,bp,bo);if(bo&(f|u)&&bq[0].length-bq[1].length===0){this.started=false}this.callback(this.manager,bo,{pointers:bq[0],changedPointers:bq[1],pointerType:aC,srcEvent:bp})}});function c(bq,bp){var bo=W(bq.touches);var br=W(bq.changedTouches);if(bp&(f|u)){bo=bc(bo.concat(br),"identifier",true)}return[bo,br]}var aQ={touchstart:a4,touchmove:a0,touchend:f,touchcancel:u};var aA="touchstart touchmove touchend touchcancel";function au(){this.evTarget=aA;this.targetIds={};a.apply(this,arguments)}E(au,a,{handler:function U(bp){var bo=aQ[bp.type];var bq=aB.call(this,bp,bo);if(!bq){return}this.callback(this.manager,bo,{pointers:bq[0],changedPointers:bq[1],pointerType:aC,srcEvent:bp})}});function aB(bu,bt){var bp=W(bu.touches);var bo=this.targetIds;if(bt&(a4|a0)&&bp.length===1){bo[bp[0].identifier]=true;return[bp,bp]}var bq,bs,bv=W(bu.changedTouches),bw=[],br=this.target;bs=bp.filter(function(bx){return m(bx.target,br)});if(bt===a4){bq=0;while(bq<bs.length){bo[bs[bq].identifier]=true;bq++}}bq=0;while(bq<bv.length){if(bo[bv[bq].identifier]){bw.push(bv[bq])}if(bt&(f|u)){delete bo[bv[bq].identifier]}bq++}if(!bw.length){return}return[bc(bs.concat(bw),"identifier",true),bw]}function bf(){a.apply(this,arguments);var bo=G(this.handler,this);this.touch=new au(this.manager,bo);this.mouse=new av(this.manager,bo)}E(bf,a,{handler:function a2(bp,bs,br){var bo=(br.pointerType==aC),bq=(br.pointerType==N);if(bo){this.mouse.allow=false}else{if(bq&&!this.mouse.allow){return}}if(bs&(f|u)){this.mouse.allow=true}this.callback(bp,bs,br)},destroy:function l(){this.touch.destroy();this.mouse.destroy()}});var ao=an(C.style,"touchAction");var bk=ao!==z;var bl="compute";var ak="auto";var bg="manipulation";var h="none";var aY="pan-x";var aX="pan-y";function bj(bo,bp){this.manager=bo;this.set(bp)}bj.prototype={set:function(bo){if(bo==bl){bo=this.compute()}if(bk){this.manager.element.style[ao]=bo}this.actions=bo.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var bo=[];bm(this.manager.recognizers,function(bp){if(aj(bp.options.enable,[bp])){bo=bo.concat(bp.getTouchAction())}});return bn(bo.join(" "))},preventDefaults:function(bo){if(bk){return}var bq=bo.srcEvent;var bs=bo.offsetDirection;if(this.manager.session.prevented){bq.preventDefault();return}var bt=this.actions;var bu=i(bt,h);var bp=i(bt,aX);var br=i(bt,aY);if(bu||(bp&&bs&bd)||(br&&bs&aw)){return this.preventSrc(bq)}},preventSrc:function(bo){this.manager.session.prevented=true;bo.preventDefault()}};function bn(bq){if(i(bq,h)){return h}var bp=i(bq,aY);var bo=i(bq,aX);if(bp&&bo){return aY+" "+aX}if(bp||bo){return bp?aY:aX}if(i(bq,bg)){return bg}return ak}var aa=1;var al=2;var ag=4;var aO=8;var q=aO;var K=16;var aJ=32;function J(bo){this.id=aH();this.manager=null;this.options=D(bo||{},this.defaults);this.options.enable=aE(this.options.enable,true);this.state=aa;this.simultaneous={};this.requireFail=[]}J.prototype={defaults:{},set:function(bo){aG(this.options,bo);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(bo){if(Z(bo,"recognizeWith",this)){return this}var bp=this.simultaneous;bo=ab(bo,this);if(!bp[bo.id]){bp[bo.id]=bo;bo.recognizeWith(this)}return this},dropRecognizeWith:function(bo){if(Z(bo,"dropRecognizeWith",this)){return this}bo=ab(bo,this);delete this.simultaneous[bo.id];return this},requireFailure:function(bo){if(Z(bo,"requireFailure",this)){return this}var bp=this.requireFail;bo=ab(bo,this);if(y(bp,bo)===-1){bp.push(bo);bo.requireFailure(this)}return this},dropRequireFailure:function(bp){if(Z(bp,"dropRequireFailure",this)){return this}bp=ab(bp,this);var bo=y(this.requireFail,bp);if(bo>-1){this.requireFail.splice(bo,1)}return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(bo){return !!this.simultaneous[bo.id]},emit:function(bp){var bo=this;var br=this.state;function bq(bs){bo.manager.emit(bo.options.event+(bs?a7(br):""),bp)}if(br<aO){bq(true)}bq();if(br>=aO){bq(true)}},tryEmit:function(bo){if(this.canEmit()){return this.emit(bo)}this.state=aJ},canEmit:function(){var bo=0;while(bo<this.requireFail.length){if(!(this.requireFail[bo].state&(aJ|aa))){return false}bo++}return true},recognize:function(bo){var bp=aG({},bo);if(!aj(this.options.enable,[this,bp])){this.reset();this.state=aJ;return}if(this.state&(q|K|aJ)){this.state=aa}this.state=this.process(bp);if(this.state&(al|ag|aO|K)){this.tryEmit(bp)}},process:function(bo){},getTouchAction:function(){},reset:function(){}};function a7(bo){if(bo&K){return"cancel"}else{if(bo&aO){return"end"}else{if(bo&ag){return"move"}else{if(bo&al){return"start"}}}}return""}function aZ(bo){if(bo==a1){return"down"}else{if(bo==ac){return"up"}else{if(bo==k){return"left"}else{if(bo==A){return"right"}}}}return""}function ab(bq,bo){var bp=bo.manager;if(bp){return bp.get(bq)}return bq}function az(){J.apply(this,arguments)}E(az,J,{defaults:{pointers:1},attrTest:function(bo){var bp=this.options.pointers;return bp===0||bo.pointers.length===bp},process:function(bp){var br=this.state;var bq=bp.eventType;var bo=br&(al|ag);var bs=this.attrTest(bp);if(bo&&(bq&u||!bs)){return br|K}else{if(bo||bs){if(bq&f){return br|aO}else{if(!(br&al)){return al}}return br|ag}}return aJ}});function p(){az.apply(this,arguments);this.pX=null;this.pY=null}E(p,az,{defaults:{event:"pan",threshold:10,pointers:1,direction:M},getTouchAction:function(){var bo=this.options.direction;var bp=[];if(bo&bd){bp.push(aX)}if(bo&aw){bp.push(aY)}return bp},directionTest:function(bq){var br=this.options;var bp=true;var bu=bq.distance;var bs=bq.direction;var bo=bq.deltaX;var bt=bq.deltaY;if(!(bs&br.direction)){if(br.direction&bd){bs=(bo===0)?ax:(bo<0)?k:A;bp=bo!=this.pX;bu=Math.abs(bq.deltaX)}else{bs=(bt===0)?ax:(bt<0)?ac:a1;bp=bt!=this.pY;bu=Math.abs(bq.deltaY)}}bq.direction=bs;return bp&&bu>br.threshold&&bs&br.direction},attrTest:function(bo){return az.prototype.attrTest.call(this,bo)&&(this.state&al||(!(this.state&al)&&this.directionTest(bo)))},emit:function(bo){this.pX=bo.deltaX;this.pY=bo.deltaY;var bp=aZ(bo.direction);if(bp){this.manager.emit(this.options.event+bp,bo)}this._super.emit.call(this,bo)}});function a6(){az.apply(this,arguments)}E(a6,az,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[h]},attrTest:function(bo){return this._super.attrTest.call(this,bo)&&(Math.abs(bo.scale-1)>this.options.threshold||this.state&al)},emit:function(bp){this._super.emit.call(this,bp);if(bp.scale!==1){var bo=bp.scale<1?"in":"out";this.manager.emit(this.options.event+bo,bp)}}});function aR(){J.apply(this,arguments);this._timer=null;this._input=null}E(aR,J,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[ak]},process:function(bp){var bq=this.options;var bs=bp.pointers.length===bq.pointers;var bo=bp.distance<bq.threshold;var br=bp.deltaTime>bq.time;this._input=bp;if(!bo||!bs||(bp.eventType&(f|u)&&!br)){this.reset()}else{if(bp.eventType&a4){this.reset();this._timer=j(function(){this.state=q;this.tryEmit()},bq.time,this)}else{if(bp.eventType&f){return q}}}return aJ},reset:function(){clearTimeout(this._timer)},emit:function(bo){if(this.state!==q){return}if(bo&&(bo.eventType&f)){this.manager.emit(this.options.event+"up",bo)}else{this._input.timeStamp=ba();this.manager.emit(this.options.event,this._input)}}});function aD(){az.apply(this,arguments)}E(aD,az,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[h]},attrTest:function(bo){return this._super.attrTest.call(this,bo)&&(Math.abs(bo.rotation)>this.options.threshold||this.state&al)}});function aU(){az.apply(this,arguments)}E(aU,az,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:bd|aw,pointers:1},getTouchAction:function(){return p.prototype.getTouchAction.call(this)},attrTest:function(bo){var bq=this.options.direction;var bp;if(bq&(bd|aw)){bp=bo.velocity}else{if(bq&bd){bp=bo.velocityX}else{if(bq&aw){bp=bo.velocityY}}}return this._super.attrTest.call(this,bo)&&bq&bo.direction&&bo.distance>this.options.threshold&&ae(bp)>this.options.velocity&&bo.eventType&f},emit:function(bo){var bp=aZ(bo.direction);if(bp){this.manager.emit(this.options.event+bp,bo)}this.manager.emit(this.options.event,bo)}});function aq(){J.apply(this,arguments);this.pTime=false;this.pCenter=false;this._timer=null;this._input=null;this.count=0}E(aq,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bg]},process:function(bq){var bs=this.options;var bv=bq.pointers.length===bs.pointers;var bp=bq.distance<bs.threshold;var br=bq.deltaTime<bs.time;this.reset();if((bq.eventType&a4)&&(this.count===0)){return this.failTimeout()}if(bp&&br&&bv){if(bq.eventType!=f){return this.failTimeout()}var bu=this.pTime?(bq.timeStamp-this.pTime<bs.interval):true;var bt=!this.pCenter||bi(this.pCenter,bq.center)<bs.posThreshold;this.pTime=bq.timeStamp;this.pCenter=bq.center;if(!bt||!bu){this.count=1}else{this.count+=1}this._input=bq;var bo=this.count%bs.taps;if(bo===0){if(!this.hasRequireFailures()){return q}else{this._timer=j(function(){this.state=q;this.tryEmit()},bs.interval,this);return al}}}return aJ},failTimeout:function(){this._timer=j(function(){this.state=aJ},this.options.interval,this);return aJ},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==q){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function O(bp,bo){bo=bo||{};bo.recognizers=aE(bo.recognizers,O.defaults.preset);return new be(bp,bo)}O.VERSION="2.0.4";O.defaults={domEvents:false,touchAction:bl,enable:true,inputTarget:null,inputClass:null,preset:[[aD,{enable:false}],[a6,{enable:false},["rotate"]],[aU,{direction:bd}],[p,{direction:bd},["swipe"]],[aq],[aq,{event:"doubletap",taps:2},["tap"]],[aR]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var H=1;var aV=2;function be(bp,bo){bo=bo||{};this.options=D(bo,O.defaults);this.options.inputTarget=this.options.inputTarget||bp;this.handlers={};this.session={};this.recognizers=[];this.element=bp;this.input=v(this);this.touchAction=new bj(this,this.options.touchAction);Y(this,true);bm(bo.recognizers,function(br){var bq=this.add(new (br[0])(br[1]));br[2]&&bq.recognizeWith(br[2]);br[3]&&bq.requireFailure(br[3])},this)}be.prototype={set:function(bo){aG(this.options,bo);if(bo.touchAction){this.touchAction.update()}if(bo.inputTarget){this.input.destroy();this.input.target=bo.inputTarget;this.input.init()}return this},stop:function(bo){this.session.stopped=bo?aV:H},recognize:function(bs){var bt=this.session;if(bt.stopped){return}this.touchAction.preventDefaults(bs);var bo;var bp=this.recognizers;var br=bt.curRecognizer;if(!br||(br&&br.state&q)){br=bt.curRecognizer=null}var bq=0;while(bq<bp.length){bo=bp[bq];if(bt.stopped!==aV&&(!br||bo==br||bo.canRecognizeWith(br))){bo.recognize(bs)}else{bo.reset()}if(!br&&bo.state&(al|ag|aO)){br=bt.curRecognizer=bo}bq++}},get:function(bo){if(bo instanceof J){return bo}var bp=this.recognizers;for(var bq=0;bq<bp.length;bq++){if(bp[bq].options.event==bo){return bp[bq]}}return null},add:function(bo){if(Z(bo,"add",this)){return this}var bp=this.get(bo.options.event);if(bp){this.remove(bp)}this.recognizers.push(bo);bo.manager=this;this.touchAction.update();return bo},remove:function(bo){if(Z(bo,"remove",this)){return this}var bp=this.recognizers;bo=this.get(bo);bp.splice(y(bp,bo),1);this.touchAction.update();return this},on:function(bp,bq){var bo=this.handlers;bm(aS(bp),function(br){bo[br]=bo[br]||[];bo[br].push(bq)});return this},off:function(bp,bq){var bo=this.handlers;bm(aS(bp),function(br){if(!bq){delete bo[br]}else{bo[br].splice(y(bo[br],bq),1)}});return this},emit:function(bq,br){if(this.options.domEvents){d(bq,br)}var bo=this.handlers[bq]&&this.handlers[bq].slice();if(!bo||!bo.length){return}br.type=bq;br.preventDefault=function(){br.srcEvent.preventDefault()};var bp=0;while(bp<bo.length){bo[bp](br);bp++}},destroy:function(){this.element&&Y(this,false);this.handlers={};this.session={};this.input.destroy();this.element=null}};function Y(bp,bq){var bo=bp.element;bm(bp.options.cssProps,function(bs,br){bo.style[an(bo.style,br)]=bq?bs:""})}function d(bo,bp){var bq=ah.createEvent("Event");bq.initEvent(bo,true,true);bq.gesture=bp;bp.target.dispatchEvent(bq)}aG(O,{INPUT_START:a4,INPUT_MOVE:a0,INPUT_END:f,INPUT_CANCEL:u,STATE_POSSIBLE:aa,STATE_BEGAN:al,STATE_CHANGED:ag,STATE_ENDED:aO,STATE_RECOGNIZED:q,STATE_CANCELLED:K,STATE_FAILED:aJ,DIRECTION_NONE:ax,DIRECTION_LEFT:k,DIRECTION_RIGHT:A,DIRECTION_UP:ac,DIRECTION_DOWN:a1,DIRECTION_HORIZONTAL:bd,DIRECTION_VERTICAL:aw,DIRECTION_ALL:M,Manager:be,Input:a,TouchAction:bj,TouchInput:au,MouseInput:av,PointerEventInput:aN,TouchMouseInput:bf,SingleTouchInput:x,Recognizer:J,AttrRecognizer:az,Tap:aq,Pan:p,Swipe:aU,Pinch:a6,Rotate:aD,Press:aR,on:aF,off:L,each:bm,merge:D,extend:aG,inherit:E,bindFn:G,prefixed:an});if(typeof define==V&&define.amd){define(function(){return O})}else{if(typeof module!="undefined"&&module.exports){module.exports=O}else{a9[aW]=O}}})(window,document,"Hammer");(function(b,a){function c(f,d){var e=b(f);if(!e.data("hammer")){e.data("hammer",new a(e[0],d))}}b.fn.hammer=function(d){return this.each(function(){c(this,d)})};a.Manager.prototype.emit=(function(d){return function(e,f){d.call(this,e,f);b(this.element).trigger({type:e,gesture:f})}})(a.Manager.prototype.emit)})(jQuery,Hammer);(function(a){a.lightBox={overlayBgColor:"#000",overlayOpacity:0.8,fixedNavigation:false,textBtnPrev:"&lsaquo;",textBtnNext:"&rsaquo;",textBtnClose:"&times;",containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0};a.fn.lightBox=function(p){p=jQuery.extend({},a.lightBox,p);var h=this;function r(){o(this,h);return false}function o(w,t){a("embed, object, select").css({visibility:"hidden"});c();p.imageArray.length=0;p.activeImage=0;for(var u=0;u<t.length;u++){var v=t[u];if(v.tagName=="A"){p.imageArray.push(new Array(v.getAttribute("href"),v.getAttribute("title")))}else{if(v.tagName=="IMG"){p.imageArray.push(new Array(v.getAttribute("src"),v.getAttribute("alt")))}}if(v==w){p.activeImage=u}}l()}function c(){a("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><a href="#" id="lightbox-loading"></a></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose">'+p.textBtnClose+"</a></div></div></div></div>");var t=f();a("#jquery-overlay").css({backgroundColor:p.overlayBgColor,opacity:p.overlayOpacity,width:t[0],height:t[1]}).fadeIn();var u=i();a("#jquery-lightbox").css({top:u[1]+(t[3]/10),left:u[0]}).show();a("#jquery-overlay,#jquery-lightbox").click(function(){b()});a("#lightbox-loading,#lightbox-secNav-btnClose").click(function(){b();return false});a(window).resize(function(){var v=f();a("#jquery-overlay").css({width:v[0],height:v[1]});var w=i();a("#jquery-lightbox").css({top:w[1]+(v[3]/10),left:w[0]})})}function l(){a("#lightbox-loading").show();if(p.fixedNavigation){a("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}else{a("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}var t=new Image();t.onload=function(){a("#lightbox-image").attr("src",p.imageArray[p.activeImage][0]);j(t.width,t.height);t.onload=function(){}};t.src=p.imageArray[p.activeImage][0]}function j(w,z){var t=a("#lightbox-container-image-box").width();var y=a("#lightbox-container-image-box").height();var x=(w+(p.containerBorderSize*2));var v=(z+(p.containerBorderSize*2));var u=t-x;var A=y-v;a("#lightbox-container-image-box").animate({width:x,height:v},p.containerResizeSpeed,function(){g()});if((u==0)&&(A==0)){if(a.browser.msie){n(250)}else{n(100)}}a("#lightbox-container-image-data-box").css({width:w});a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:z+(p.containerBorderSize*2)})}function g(){a("#lightbox-loading").hide();a("#lightbox-image").fadeIn(function(){k();s()});q()}function k(){a("#lightbox-container-image-data-box").slideDown("fast");a("#lightbox-image-details-caption").hide();if(p.imageArray[p.activeImage][1]){a("#lightbox-image-details-caption").html(p.imageArray[p.activeImage][1]).show()}if(p.imageArray.length>1){a("#lightbox-image-details-currentNumber").html(p.txtImage+" "+(p.activeImage+1)+" "+p.txtOf+" "+p.imageArray.length).show()}}function s(){a("#lightbox-nav").show();a("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").empty();if(p.activeImage!=0){if(p.fixedNavigation){a("#lightbox-nav-btnPrev").html('<span id="lightbox-nav-txtPrev">'+p.textBtnPrev+"</span>").unbind().bind("click",function(){p.activeImage=p.activeImage-1;l();return false})}else{a("#lightbox-nav-btnPrev").unbind().mouseenter(function(){a(this).html('<span id="lightbox-nav-txtPrev">'+p.textBtnPrev+"</span>")}).mouseleave(function(){a(this).empty()}).show().bind("click",function(){p.activeImage=p.activeImage-1;l();return false})}}if(p.activeImage!=(p.imageArray.length-1)){if(p.fixedNavigation){a("#lightbox-nav-btnNext").html('<span id="lightbox-nav-txtNext">'+p.textBtnNext+"</span>").unbind().bind("click",function(){p.activeImage=p.activeImage+1;l();return false})}else{a("#lightbox-nav-btnNext").unbind().mouseenter(function(){a(this).html('<span id="lightbox-nav-txtNext">'+p.textBtnNext+"</span>")}).mouseleave(function(){a(this).empty()}).show().bind("click",function(){p.activeImage=p.activeImage+1;l();return false})}}m()}function m(){a(document).keydown(function(t){d(t)})}function e(){a(document).unbind()}function d(t){if(t==null){keycode=event.keyCode;escapeKey=27}else{keycode=t.keyCode;escapeKey=t.DOM_VK_ESCAPE}key=String.fromCharCode(keycode).toLowerCase();if((key==p.keyToClose)||(key=="x")||(keycode==escapeKey)){b()}if((key==p.keyToPrev)||(keycode==37)){if(p.activeImage!=0){p.activeImage=p.activeImage-1;l();e()}}if((key==p.keyToNext)||(keycode==39)){if(p.activeImage!=(p.imageArray.length-1)){p.activeImage=p.activeImage+1;l();e()}}}function q(){if((p.imageArray.length-1)>p.activeImage){objNext=new Image();objNext.src=p.imageArray[p.activeImage+1][0]}if(p.activeImage>0){objPrev=new Image();objPrev.src=p.imageArray[p.activeImage-1][0]}}function b(){a("#jquery-lightbox").remove();a("#jquery-overlay").fadeOut(function(){a("#jquery-overlay").remove()});a("embed, object, select").css({visibility:"visible"})}function f(){var v,t;if(window.innerHeight&&window.scrollMaxY){v=window.innerWidth+window.scrollMaxX;t=window.innerHeight+window.scrollMaxY}else{if(document.body.scrollHeight>document.body.offsetHeight){v=document.body.scrollWidth;t=document.body.scrollHeight}else{v=document.body.offsetWidth;t=document.body.offsetHeight}}var u,w;if(self.innerHeight){if(document.documentElement.clientWidth){u=document.documentElement.clientWidth}else{u=self.innerWidth}w=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){u=document.documentElement.clientWidth;w=document.documentElement.clientHeight}else{if(document.body){u=document.body.clientWidth;w=document.body.clientHeight}}}if(t<w){pageHeight=w}else{pageHeight=t}if(v<u){pageWidth=v}else{pageWidth=u}arrayPageSize=new Array(pageWidth,pageHeight,u,w);return arrayPageSize}function i(){var u,t;if(self.pageYOffset){t=self.pageYOffset;u=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){t=document.documentElement.scrollTop;u=document.documentElement.scrollLeft}else{if(document.body){t=document.body.scrollTop;u=document.body.scrollLeft}}}arrayPageScroll=new Array(u,t);return arrayPageScroll}function n(v){var u=new Date();t=null;do{var t=new Date()}while(t-u<v)}return this.unbind("click").click(r)}})(jQuery);(function(d){var c=(window.orientation!=undefined),a=((d.browser.opera||(d.browser.mozilla&&parseFloat(d.browser.version.substr(0,3))<1.9))?"input":"paste");d.event.special.paste={setup:function(){if(this.addEventListener){this.addEventListener(a,b,false)}else{if(this.attachEvent){this.attachEvent(a,b)}}},teardown:function(){if(this.removeEventListener){this.removeEventListener(a,b,false)}else{if(this.detachEvent){this.detachEvent(a,b)}}}};function b(g){var f=this;g=d.event.fix(g||window.e);g.type="paste";setTimeout(function(){d.event.handle.call(f,g)},1)}d.extend({meiomask:{rules:{z:/[a-z]/,Z:/[A-Z]/,a:/[a-zA-Z]/,"*":/[0-9a-zA-Z]/,"@":/[0-9a-zA-ZçÇáàãâéèêíìóòôõúùü]/},keyRepresentation:{8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"alt",27:"esc",33:"page up",34:"page down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",116:"f5",123:"f12",224:"command"},iphoneKeyRepresentation:{10:"go",127:"delete"},signals:{"+":"","-":"-"},options:{attr:"mask",mask:null,type:"fixed",maxLength:-1,defaultValue:"",signal:false,textAlign:true,selectCharsOnFocus:true,autoTab:false,setSize:false,fixedChars:"[(),.:/ -]",onInvalid:function(){},onValid:function(){},onOverflow:function(){}},masks:{cc:{mask:"9999 9999 9999 9999"},date:{mask:"9999-19-39"},time:{mask:"29:59:59"},datetime:{mask:"9999-19-39 29:59:59"},timestamp:{mask:"9999-19-39 29:59:59.999"},phone:{mask:"999-9999-9999"},zipcode:{mask:"999-9999"},"int":{mask:"999,999,999,9",type:"reverse"},sint:{mask:"999,999,999,9",type:"reverse",defaultValue:"+"},"long":{mask:"999,999,999,999,999,999,99",type:"reverse"},slong:{mask:"999,999,999,999,999,999,99",type:"reverse",defaultValue:"+"},dec:{mask:"99.999,999,999,999",type:"reverse",defaultValue:"000"},sdec:{mask:"99.999,999,999,999",type:"reverse",defaultValue:"+000"}},init:function(){if(!this.hasInit){var e=this,f,g=(c)?this.iphoneKeyRepresentation:this.keyRepresentation;this.ignore=false;for(f=0;f<=9;f++){this.rules[f]=new RegExp("[0-"+f+"]")}this.keyRep=g;this.ignoreKeys=[];d.each(g,function(h){e.ignoreKeys.push(parseInt(h))});this.hasInit=true}},set:function(i,f){var e=this,g=d(i),h="maxLength";f=f||{};this.init();return g.each(function(){if(f.attr){e.options.attr=f.attr}var p=d(this),r=d.extend({},e.options),n=p.attr(r.attr),j="";j=(typeof f=="string")?f:(n!="")?n:null;if(j){r.mask=j}if(e.masks[j]){r=d.extend(r,e.masks[j])}if(typeof f=="object"&&f.constructor!=Array){r=d.extend(r,f)}if(d.metadata){r=d.extend(r,p.metadata())}if(r.mask!=null){if(p.data("mask")){e.unset(p)}var k=r.defaultValue,l=(r.type=="reverse"),m=new RegExp(r.fixedChars,"g");if(r.maxLength==-1){r.maxLength=p.attr(h)}r=d.extend({},r,{fixedCharsReg:new RegExp(r.fixedChars),fixedCharsRegG:m,maskArray:r.mask.split(""),maskNonFixedCharsArray:r.mask.replace(m,"").split("")});if((r.type=="fixed"||l)&&r.setSize&&!p.attr("size")){p.attr("size",r.mask.length)}if(l&&r.textAlign){p.css("text-align","right")}if(this.value!=""||k!=""){var q=e.string((this.value!="")?this.value:k,r);this.defaultValue=q;p.val(q)}if(r.type=="infinite"){r.type="repeat"}p.data("mask",r);p.removeAttr(h);p.bind("keydown.mask",{func:e._onKeyDown,thisObj:e},e._onMask).bind("keypress.mask",{func:e._onKeyPress,thisObj:e},e._onMask).bind("keyup.mask",{func:e._onKeyUp,thisObj:e},e._onMask).bind("paste.mask",{func:e._onPaste,thisObj:e},e._onMask).bind("focus.mask",e._onFocus).bind("blur.mask",e._onBlur).bind("change.mask",e._onChange)}})},unset:function(f){var e=d(f);return e.each(function(){var h=d(this);if(h.data("mask")){var g=h.data("mask").maxLength;if(g!=-1){h.attr("maxLength",g)}h.unbind(".mask").removeData("mask")}})},string:function(j,f){this.init();var i={};if(typeof j!="string"){j=String(j)}switch(typeof f){case"string":if(this.masks[f]){i=d.extend(i,this.masks[f])}else{i.mask=f}break;case"object":i=f}if(!i.fixedChars){i.fixedChars=this.options.fixedChars}var e=new RegExp(i.fixedChars),g=new RegExp(i.fixedChars,"g");if((i.type=="reverse")&&i.defaultValue){if(typeof this.signals[i.defaultValue.charAt(0)]!="undefined"){var h=j.charAt(0);i.signal=(typeof this.signals[h]!="undefined")?this.signals[h]:this.signals[i.defaultValue.charAt(0)];i.defaultValue=i.defaultValue.substring(1)}}return this.__maskArray(j.split(""),i.mask.replace(g,"").split(""),i.mask.split(""),i.type,i.maxLength,i.defaultValue,e,i.signal)},_onFocus:function(h){var g=d(this),f=g.data("mask");f.inputFocusValue=g.val();f.changed=false;if(f.selectCharsOnFocus){g.select()}},_onBlur:function(h){var g=d(this),f=g.data("mask");if(f.inputFocusValue!=g.val()&&!f.changed){g.trigger("change")}},_onChange:function(f){d(this).data("mask").changed=true},_onMask:function(f){var h=f.data.thisObj,g={};g._this=f.target;g.$this=d(g._this);if(g.$this.attr("readonly")){return true}g.data=g.$this.data("mask");g[g.data.type]=true;g.value=g.$this.val();g.nKey=h.__getKeyNumber(f);g.range=h.__getRange(g._this);g.valueArray=g.value.split("");return f.data.func.call(h,f,g)},_onKeyDown:function(g,h){this.ignore=d.inArray(h.nKey,this.ignoreKeys)>-1||g.ctrlKey||g.metaKey||g.altKey;if(this.ignore){var f=this.keyRep[h.nKey];h.data.onValid.call(h._this,f?f:"",h.nKey)}return c?this._keyPress(g,h):true},_onKeyUp:function(f,g){if(g.nKey==9||g.nKey==16){return true}if(g.data.type=="repeat"){this.__autoTab(g);return true}return this._onPaste(f,g)},_onPaste:function(g,h){if(h.reverse){this.__changeSignal(g.type,h)}var f=this.__maskArray(h.valueArray,h.data.maskNonFixedCharsArray,h.data.maskArray,h.data.type,h.data.maxLength,h.data.defaultValue,h.data.fixedCharsReg,h.data.signal);h.$this.val(f);if(!h.reverse&&h.data.defaultValue.length&&(h.range.start==h.range.end)){this.__setRange(h._this,h.range.start,h.range.end)}if((d.browser.msie||d.browser.safari)&&!h.reverse){this.__setRange(h._this,h.range.start,h.range.end)}if(this.ignore){return true}this.__autoTab(h);return true},_onKeyPress:function(m,f){if(this.ignore){return true}if(f.reverse){this.__changeSignal(m.type,f)}var n=String.fromCharCode(f.nKey),q=f.range.start,j=f.value,h=f.data.maskArray;if(f.reverse){var i=j.substr(0,q),l=j.substr(f.range.end,j.length);j=i+n+l;if(f.data.signal&&(q-f.data.signal.length>0)){q-=f.data.signal.length}}var p=j.replace(f.data.fixedCharsRegG,"").split(""),g=this.__extraPositionsTill(q,h,f.data.fixedCharsReg);f.rsEp=q+g;if(f.repeat){f.rsEp=0}if(!this.rules[h[f.rsEp]]||(f.data.maxLength!=-1&&p.length>=f.data.maxLength&&f.repeat)){f.data.onOverflow.call(f._this,n,f.nKey);return false}else{if(!this.rules[h[f.rsEp]].test(n)){f.data.onInvalid.call(f._this,n,f.nKey);return false}else{f.data.onValid.call(f._this,n,f.nKey)}}var k=this.__maskArray(p,f.data.maskNonFixedCharsArray,h,f.data.type,f.data.maxLength,f.data.defaultValue,f.data.fixedCharsReg,f.data.signal,g);f.$this.val(k);return(f.reverse)?this._keyPressReverse(m,f):(f.fixed)?this._keyPressFixed(m,f):true},_keyPressFixed:function(f,g){if(g.range.start==g.range.end){if((g.rsEp==0&&g.value.length==0)||g.rsEp<g.value.length){this.__setRange(g._this,g.rsEp,g.rsEp+1)}}else{this.__setRange(g._this,g.range.start,g.range.end)}return true},_keyPressReverse:function(f,g){if(d.browser.msie&&((g.range.start==0&&g.range.end==0)||g.range.start!=g.range.end)){this.__setRange(g._this,g.value.length)}return false},__autoTab:function(f){if(f.data.autoTab&&((f.$this.val().length>=f.data.maskArray.length&&!f.repeat)||(f.data.maxLength!=-1&&f.valueArray.length>=f.data.maxLength&&f.repeat))){var e=this.__getNextInput(f._this,f.data.autoTab);if(e){f.$this.trigger("blur");e.focus().select()}}},__changeSignal:function(f,g){if(g.data.signal!==false){var e=(f=="paste")?g.value.charAt(0):String.fromCharCode(g.nKey);if(this.signals&&(typeof this.signals[e]!="undefined")){g.data.signal=this.signals[e]}}},__getKeyNumber:function(f){return(f.charCode||f.keyCode||f.which)},__maskArray:function(m,h,g,j,e,k,n,l,f){if(j=="reverse"){m.reverse()}m=this.__removeInvalidChars(m,h,j=="repeat"||j=="infinite");if(k){m=this.__applyDefaultValue.call(m,k)}m=this.__applyMask(m,g,f,n);switch(j){case"reverse":m.reverse();return(l||"")+m.join("").substring(m.length-g.length);case"infinite":case"repeat":var i=m.join("");return(e!=-1&&m.length>=e)?i.substring(0,e):i;default:return m.join("").substring(0,g.length)}return""},__applyDefaultValue:function(g){var e=g.length,f=this.length,h;for(h=f-1;h>=0;h--){if(this[h]==g.charAt(0)){this.pop()}else{break}}for(h=0;h<e;h++){if(!this[h]){this[h]=g.charAt(h)}}return this},__removeInvalidChars:function(h,g,e){for(var f=0,j=0;f<h.length;f++){if(g[j]&&this.rules[g[j]]&&!this.rules[g[j]].test(h[f])){h.splice(f,1);if(!e){j--}f--}if(!e){j++}}return h},__applyMask:function(h,f,j,e){if(typeof j=="undefined"){j=0}for(var g=0;g<h.length+j;g++){if(f[g]&&e.test(f[g])){h.splice(g,0,f[g])}}return h},__extraPositionsTill:function(h,f,e){var g=0;while(e.test(f[h++])){g++}return g},__getNextInput:function(o,f){var j=o.form.elements,h=d.inArray(o,j)+1,n=null,k;for(k=h;k<j.length;k++){n=d(j[k]);if(this.__isNextInput(n,f)){return n}}var e=document.forms,g=d.inArray(o.form,e)+1,m,l=null;for(m=g;m<e.length;m++){l=e[m].elements;for(k=0;k<l.length;k++){n=d(l[k]);if(this.__isNextInput(n,f)){return n}}}return null},__isNextInput:function(g,e){var f=g.get(0);return f&&(f.offsetWidth>0||f.offsetHeight>0)&&f.nodeName!="FIELDSET"&&(e===true||(typeof e=="string"&&g.is(e)))},__setRange:function(g,h,e){if(typeof e=="undefined"){e=h}if(g.setSelectionRange){g.setSelectionRange(h,e)}else{var f=g.createTextRange();f.collapse();f.moveStart("character",h);f.moveEnd("character",e-h);f.select()}},__getRange:function(f){if(!d.browser.msie){return{start:f.selectionStart,end:f.selectionEnd}}var g={start:0,end:0},e=document.selection.createRange();g.start=0-e.duplicate().moveStart("character",-100000);g.end=g.start+e.text.length;return g},unmaskedVal:function(e){return d(e).val().replace(d.meiomask.fixedCharsRegG,"")}}});d.fn.extend({setMask:function(e){return d.meiomask.set(this,e)},unsetMask:function(){return d.meiomask.unset(this)},unmaskedVal:function(){return d.meiomask.unmaskedVal(this[0])}})})(jQuery);
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var f=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false)}}else{this.onmousewheel=l}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false)}}else{this.onmousewheel=null}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(m){var i=c(m),n=i["offsetParent" in c.fn?"offsetParent":"parent"]();if(!n.length){n=c("body")}return parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(i){return c(i).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(i){return i?this.bind("mousewheel",i):this.trigger("mousewheel")},unmousewheel:function(i){return this.unbind("mousewheel",i)}});function l(i){var o=i||window.event,u=h.call(arguments,1),w=0,q=0,p=0,t=0,s=0,r=0;i=c.event.fix(o);i.type="mousewheel";if("detail" in o){p=o.detail*-1}if("wheelDelta" in o){p=o.wheelDelta}if("wheelDeltaY" in o){p=o.wheelDeltaY}if("wheelDeltaX" in o){q=o.wheelDeltaX*-1}if("axis" in o&&o.axis===o.HORIZONTAL_AXIS){q=p*-1;p=0}w=p===0?q:p;if("deltaY" in o){p=o.deltaY*-1;w=p}if("deltaX" in o){q=o.deltaX;if(p===0){w=q*-1}}if(p===0&&q===0){return}if(o.deltaMode===1){var v=c.data(this,"mousewheel-line-height");w*=v;p*=v;q*=v}else{if(o.deltaMode===2){var n=c.data(this,"mousewheel-page-height");w*=n;p*=n;q*=n}}t=Math.max(Math.abs(p),Math.abs(q));if(!b||t<b){b=t;if(a(o,t)){b/=40}}if(a(o,t)){w/=40;q/=40;p/=40}w=Math[w>=1?"floor":"ceil"](w/b);q=Math[q>=1?"floor":"ceil"](q/b);p=Math[p>=1?"floor":"ceil"](p/b);if(f.settings.normalizeOffset&&this.getBoundingClientRect){var m=this.getBoundingClientRect();s=i.clientX-m.left;r=i.clientY-m.top}i.deltaX=q;i.deltaY=p;i.deltaFactor=b;i.offsetX=s;i.offsetY=r;i.deltaMode=0;u.unshift(i,w,q,p);if(j){clearTimeout(j)}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,u)}function g(){b=null}function a(m,i){return f.settings.adjustOldDeltas&&m.type==="mousewheel"&&i%120===0}}));(function($){$.extend({tablesorter:new function(){var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};function benchmark(s,d){log(s+","+(new Date().getTime()-d.getTime())+"ms")}this.benchmark=benchmark;function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined"){console.log(s)}else{alert(s)}}function buildParserCache(table,$headers){if(table.config.debug){var parsersDebug=""}if(table.tBodies.length==0){return}var rows=table.tBodies[0].rows;if(rows[0]){var list=[],cells=rows[0].cells,l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&$($headers[i]).metadata().sorter)){p=getParserById($($headers[i]).metadata().sorter)}else{if((table.config.headers[i]&&table.config.headers[i].sorter)){p=getParserById(table.config.headers[i].sorter)}}if(!p){p=detectParserForColumn(table,rows,-1,i)}if(table.config.debug){parsersDebug+="column:"+i+" parser:"+p.id+"\n"}list.push(p)}}if(table.config.debug){log(parsersDebug)}return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length,node=false,nodeValue=false,keepLooking=true;while(nodeValue==""&&keepLooking){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug){log("Checking if value was empty on row:"+rowIndex)}}else{keepLooking=false}}for(var i=1;i<l;i++){if(parsers[i].is(nodeValue,table,node)){return parsers[i]}}return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==name.toLowerCase()){return parsers[i]}}return false}function buildCache(table){if(table.config.debug){var cacheTime=new Date()}var totalRows=(table.tBodies[0]&&table.tBodies[0].rows.length)||0,totalCells=(table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length)||0,parsers=table.config.parsers,cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]),cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j){cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]))}cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug){benchmark("Building cache for "+totalRows+" rows:",cacheTime)}return cache}function getElementText(config,node){var text="";if(!node){return""}if(!config.supportsTextContent){config.supportsTextContent=node.textContent||false}if(config.textExtraction=="simple"){if(config.supportsTextContent){text=node.textContent}else{if(node.childNodes[0]&&node.childNodes[0].hasChildNodes()){text=node.childNodes[0].innerHTML}else{text=node.innerHTML}}}else{if(typeof(config.textExtraction)=="function"){text=config.textExtraction(node)}else{text=$(node).text()}}return text}function appendToTable(table,cache){if(table.config.debug){var appendTime=new Date()}var c=cache,r=c.row,n=c.normalized,totalRows=n.length,checkCell=(n[0].length-1),tableBody=$(table.tBodies[0]),rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++){tableBody[0].appendChild(r[pos][j])}}}if(table.config.appender){table.config.appender(table,rows)}rows=null;if(table.config.debug){benchmark("Rebuilt table:",appendTime)}applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},0)}function buildHeaders(table){if(table.config.debug){var time=new Date()}var meta=($.metadata)?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index)){this.sortDisabled=true}if(checkHeaderOptionsSortingLocked(table,index)){this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index)}if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader){table.config.onRenderHeader.apply($th)}}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof(matrix[rowIndex])=="undefined"){matrix[rowIndex]=[]}for(var k=0;k<matrix[rowIndex].length+1;k++){if(typeof(matrix[rowIndex][k])=="undefined"){firstAvailCol=k;break}}lookup[cellId]=firstAvailCol;for(var k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof(matrix[k])=="undefined"){matrix[k]=[]}var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[],r=table.tHead.rows,c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1){arr=arr.concat(checkCellColSpan(table,headerArr,row++))}else{if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1])){arr.push(cell)}}}return arr}function checkHeaderMetadata(cell){if(($.metadata)&&($(cell).metadata().sorter===false)){return true}return false}function checkHeaderOptions(table,i){if((table.config.headers[i])&&(table.config.headers[i].sorter===false)){return true}return false}function checkHeaderOptionsSortingLocked(table,i){if((table.config.headers[i])&&(table.config.headers[i].lockedOrder)){return table.config.headers[i].lockedOrder}return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++){getWidgetById(c[i]).format(table)}}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++){if(widgets[i].id.toLowerCase()==name.toLowerCase()){return widgets[i]}}}function formatSortingOrder(v){if(typeof(v)!="Number"){return(v.toLowerCase()=="desc")?1:0}else{return(v==1)?1:0}}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++){if(a[i][0]==v){return true}}return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled){h[this.column]=$(this)}});var l=list.length;for(var i=0;i<l;i++){h[list[i][0]].addClass(css[list[i][1]])}}function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("<colgroup>");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("<col>").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config,l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i],o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug){var sortTime=new Date()}var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=(table.config.parsers[c].type=="text")?((order==0)?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c)):((order==0)?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c));var e="e"+i;dynamicExp+="var "+e+" = "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;i<l;i++){dynamicExp+="}; "}dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug){benchmark("Evaling expression:"+dynamicExp,new Date())}eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug){benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime)}return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]",b="b["+index+"]";if(type=="text"&&direction=="asc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+a+" < "+b+") ? -1 : 1 )));"}else{if(type=="text"&&direction=="desc"){return"("+a+" == "+b+" ? 0 : ("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : ("+b+" < "+a+") ? -1 : 1 )));"}else{if(type=="numeric"&&direction=="asc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));"}else{if(type=="numeric"&&direction=="desc"){return"("+a+" === null && "+b+" === null) ? 0 :("+a+" === null ? Number.POSITIVE_INFINITY : ("+b+" === null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}}}}}function makeSortText(i){return"((a["+i+"] < b["+i+"]) ? -1 : ((a["+i+"] > b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+i+"] < a["+i+"]) ? -1 : ((b["+i+"] > a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare){return a.localeCompare(b)}return((a<b)?-1:((a>b)?1:0))}function sortTextDesc(a,b){if(table.config.sortLocaleCompare){return b.localeCompare(a)}return((b<a)?-1:((b>a)?1:0))}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,i){return parsers[i].type}this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies){return}var $this,$document,$headers,cache,config,shiftDown=0,sortOrder;this.config={};config=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config.cssDesc,config.cssAsc];fixColumnWidth(this);$headers.click(function(e){var totalRows=($this[0].tBodies[0]&&$this[0].tBodies[0].rows.length)||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder){this.order=this.lockedOrder}if(!e[config.sortMultiSortKey]){config.sortList=[];if(config.sortForce!=null){var a=config.sortForce;for(var j=0;j<a.length;j++){if(a[j][0]!=i){config.sortList.push(a[j])}}}config.sortList.push([i,this.order])}else{if(isValueInArray(i,config.sortList)){for(var j=0;j<config.sortList.length;j++){var s=config.sortList[j],o=config.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}}else{config.sortList.push([i,this.order])}}setTimeout(function(){setHeadersCss($this[0],$headers,config.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config.sortList,cache))},1);return false}}).mousedown(function(){if(config.cancelSelection){this.onselectstart=function(){return false};return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[(cell.parentNode.rowIndex-1),cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config.sortList=list;var sortList=config.sortList;updateHeaderSortCount(this,sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist)){config.sortList=$(this).metadata().sortlist}if(config.sortList.length>0){$this.trigger("sorton",[config.sortList])}applyWidget(this)})};this.addParser=function(parser){var l=parsers.length,a=true;for(var i=0;i<l;i++){if(parsers[i].id.toLowerCase()==parser.id.toLowerCase()){a=false}}if(a){parsers.push(parser)}};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return(isNaN(i))?0:i};this.formatInt=function(s){var i=parseInt(s);return(isNaN(i))?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser.msie){function empty(){while(this.firstChild){this.removeChild(this.firstChild)}}empty.apply(table.tBodies[0])}else{table.tBodies[0].innerHTML=""}}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split("."),r="",l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2){r+="0"+item}else{r+=item}}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat((s!="")?new Date(s.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2")}else{if(c.dateFormat=="uk"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1")}else{if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy"){s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")}}}return $.tablesorter.formatFloat(new Date(s).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat(new Date("2000/01/01 "+s).getTime())},type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config,p=(!c.parserMetadataName)?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug){var time=new Date()}var $tr,row=-1,odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow)){row++}odd=(row%2==0);$tr.removeClass(table.config.widgetZebra.css[odd?0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug){$.tablesorter.benchmark("Applying Zebra widget",time)}}})})(jQuery);